<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ­ éŸ“åŠ‡æƒ…ç·’èªæ„Ÿåœ°åœ– v3.0 - LabsKDrama</title>
    <style>
        *{margin:0;padding:0;box-sizing:border-box;}
        body{font-family:'Noto Sans TC',sans-serif;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);min-height:100vh;padding:20px;}
        .container{max-width:1400px;margin:0 auto;background:rgba(255,255,255,0.95);border-radius:25px;box-shadow:0 25px 50px rgba(0,0,0,0.2);overflow:hidden;}
        .header{background:linear-gradient(45deg,#FF6B6B,#4ECDC4,#45B7D1);color:white;padding:40px;text-align:center;}
        .header h1{font-size:2.8em;margin-bottom:15px;text-shadow:2px 2px 4px rgba(0,0,0,0.3);}
        .header p{font-size:1.3em;opacity:0.95;}
        .search-section{padding:30px;background:#f8f9ff;text-align:center;border-bottom:3px solid #e3f2fd;}
        .search-input{width:60%;padding:18px 25px;font-size:1.3em;border:3px solid #ddd;border-radius:50px;outline:none;transition:all 0.3s;}
        .search-input:focus{border-color:#FF6B6B;box-shadow:0 0 20px rgba(255,107,107,0.3);}
        .search-btn{background:linear-gradient(45deg,#FF6B6B,#4ECDC4);color:white;border:none;padding:18px 35px;font-size:1.2em;font-weight:bold;border-radius:50px;margin-left:15px;cursor:pointer;transition:all 0.3s;}
        .search-btn:hover{transform:translateY(-3px);box-shadow:0 10px 25px rgba(255,107,107,0.4);}
        .emotion-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:25px;padding:40px;}
        .emotion-card{background:white;border-radius:20px;overflow:hidden;box-shadow:0 15px 35px rgba(0,0,0,0.1);transition:all 0.4s;cursor:pointer;}
        .emotion-card:hover{transform:translateY(-10px) scale(1.02);box-shadow:0 25px 50px rgba(0,0,0,0.2);}
        .emotion-header{padding:25px 30px;font-size:1.4em;font-weight:bold;display:flex;align-items:center;gap:15px;}
        .emotion-emoji{font-size:2.5em;}
        .phrases-list{padding:0 30px 30px;max-height:500px;overflow-y:auto;}
        .phrase-item{padding:20px;margin-bottom:15px;background:rgba(255,255,255,0.8);border-radius:15px;border-left:5px solid #ddd;transition:all 0.3s;position:relative;}
        .phrase-item:hover{border-left-color:#FF6B6B;transform:translateX(5px);}
        .phrase-kr{font-size:1.6em;font-weight:bold;margin-bottom:5px;cursor:pointer;color:#2d3436;}
        .phrase-kr:hover{color:#FF6B6B;}
        .play-icon{font-size:1.3em;margin-left:10px;cursor:pointer;color:#FF6B6B;opacity:0.8;transition:opacity 0.3s;}
        .play-icon:hover{opacity:1;}
        .phrase-romaji{color:#636e72;font-size:1.1em;margin-bottom:5px;}
        .phrase-meaning{color:#2d3436;font-size:1.1em;margin-bottom:10px;}
        .context-tags{display:flex;flex-wrap:wrap;gap:8px;font-size:0.9em;}
        .tag{padding:4px 12px;border-radius:20px;color:white;font-weight:500;background:#636e72;}
        .practice-section{padding:40px;background:linear-gradient(135deg,#f7fff5,#e4f1ff);text-align:center;border-top:3px solid #e3f2fd;}
        .practice-btn{background:linear-gradient(45deg,#00b894,#00cec9);color:white;border:none;padding:20px 50px;font-size:1.5em;font-weight:bold;border-radius:50px;cursor:pointer;margin:0 15px;transition:all 0.3s;}
        .practice-btn:hover{transform:translateY(-5px);box-shadow:0 15px 35px rgba(0,184,148,0.4);}
        .stats{margin-top:30px;font-size:1.2em;color:#2d3436;}
        .speed-control{margin:20px 0;}
        .speed-btn{padding:10px 20px;margin:0 5px;border:none;border-radius:25px;cursor:pointer;font-weight:bold;}
        .speed-slow{background:#FF6B6B;color:white;}
        .speed-normal{background:#4ECDC4;color:white;}
        @media (max-width:768px){.search-input{width:80%;margin-bottom:15px;}.search-btn{margin-left:0;}.emotion-grid{grid-template-columns:1fr;padding:20px;}}
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ­ éŸ“åŠ‡æƒ…ç·’èªæ„Ÿåœ°åœ– v3.0</h1>
            <p>LabsKDrama | 60ç¨®æƒ…ç·’ Ã— 480+éŸ“åŠ‡çœŸå¯¦èªªæ³• | æ…¢é€ŸèªéŸ³ï¼‹é€²éšæ¸¬é©—</p>
        </div>

        <div class="search-section">
            <input type="text" class="search-input" id="searchInput" placeholder="è¼¸å…¥æƒ…ç·’ï¼šé–‹å¿ƒã€ç”Ÿæ°£ã€é“æ­‰ã€æ’’å¬Œã€é›£éã€ç·Šå¼µ...">
            <button class="search-btn" onclick="searchEmotions()">ğŸ” æœå°‹æƒ…ç·’</button>
            <button class="search-btn" onclick="showAll()">ğŸ“‹ é¡¯ç¤ºå…¨éƒ¨60ç¨®</button>
            <div class="speed-control">
                <button class="speed-btn speed-slow" onclick="setSpeechSpeed(0.6)">ğŸŒ è¶…æ…¢é€Ÿè·Ÿè®€</button>
                <button class="speed-btn speed-normal" onclick="setSpeechSpeed(0.8)">ğŸ¢ æ…¢é€Ÿè·Ÿè®€</button>
            </div>
        </div>

        <div class="emotion-grid" id="emotionGrid"></div>

        <div class="practice-section">
            <h2>ğŸ¯ é€²éšæƒ…ç·’èªæ„Ÿç‰¹è¨“</h2>
            <button class="practice-btn" onclick="randomPractice()">ğŸ² éš¨æ©Ÿæƒ…ç·’ç‰¹è¨“</button>
            <button class="practice-btn" onclick="quizMode()">â“ å›°é›£æƒ…ç·’æ¸¬é©—ï¼ˆ15é¡Œï¼‰</button>
            <button class="practice-btn" onclick="saveProgress()">ğŸ’¾ ä¿å­˜é€²åº¦</button>
            <div class="stats" id="stats">ä»Šæ—¥ç·´ç¿’ï¼š0é¡Œ | æŒæ¡æƒ…ç·’ï¼š0/60</div>
        </div>
    </div>

    <script>
        let speechRate = 0.6; // è¶…æ…¢é€Ÿé è¨­
        let quizQuestions = []; // æ¸¬é©—é¡Œåº«
        
        // 60ç¨®éŸ“åŠ‡æƒ…ç·’è³‡æ–™åº«ï¼ˆæ¯ç¨®8å¥çœŸå¯¦å°è©ï¼‰
        const emotionDatabase = {
            "é–‹å¿ƒ":{emoji:"ğŸ˜Š",phrases:[
                {kr:"ë„ˆë¬´ ì¢‹ì•„!",romaji:"Neo-mu jo-a!",meaning:"è¶…å–œæ­¡ï¼",tags:["ã€Šé‡‘ç§˜æ›¸ã€‹è³¼ç‰©","ç†±æƒ…","æœ‹å‹"]},
                {kr:"ìµœê³ ì•¼!",romaji:"Choegoya!",meaning:"æœ€æ£’äº†ï¼",tags:["ã€Šè«‹å›ç­”1988ã€‹é£Ÿç‰©","è®šç¾","æ—¥å¸¸"]},
                {kr:"í–‰ë³µí•´!",romaji:"Haeng-bok-hae!",meaning:"å¥½å¹¸ç¦ï¼",tags:["ã€Šæ„›çš„è¿«é™ã€‹æ“æŠ±","æƒ…ä¾¶","æ·±æƒ…"]},
                {kr:"ì‹ ë‚œë‹¤!",romaji:"Sin-nan-da!",meaning:"å¥½èˆˆå¥®ï¼",tags:["ã€Šå¤ªé™½çš„å¾Œè£”ã€‹æ—…è¡Œ","æœŸå¾…","ç´„æœƒ"]},
                {kr:"ì™„ì „ ê¿€ì¼!",romaji:"Wan-jeon kkool-jaem!",meaning:"è¶…å¥½ç¬‘ï¼",tags:["ã€Šæ©Ÿæ™ºé†«ç”Ÿç”Ÿæ´»ã€‹æç¬‘","å¹´è¼•äºº","æœ‹å‹"]},
                {kr:"ê°ì‚¬í•´!",romaji:"Gam-sa-hae!",meaning:"è¬è¬ï¼",tags:["ã€Šæˆ‘çš„å¤§å”ã€‹ç¦®ç‰©","æ„Ÿæ¿€","æº«æš–"]},
                {kr:"ì˜¤ëŠ˜ ìµœê³ !",romaji:"O-neul choego!",meaning:"ä»Šå¤©æœ€æ£’ï¼",tags:["ã€Šå¤©ç©ºä¹‹åŸã€‹ç´„æœƒçµæŸ","æ»¿æ„","ç”œèœœ"]},
                {kr:"ì›ƒê²¨!",romaji:"Ut-geo!",meaning:"å¥½ç¬‘ï¼",tags:["ã€Šä¾†è‡ªæ˜Ÿæ˜Ÿçš„ä½ ã€‹æ—¥å¸¸","è¼•é¬†","é–¨èœœ"]}
            ]},
            "ç”Ÿæ°£":{emoji:"ğŸ˜¡",phrases:[
                {kr:"ì§„ì§œ ì§œì¦ë‚˜!",romaji:"Jin-jja jja-jeung-na!",meaning:"çœŸçš„è¶…ç…©ï¼",tags:["ã€Šè«‹å›ç­”1988ã€‹æœ‹å‹é–“","è¼•å¾®ä¸çˆ½","æ—¥å¸¸"]},
                {kr:"ë­ì•¼ ì´ê²Œ!",romaji:"Mwo-ya i-ge!",meaning:"é€™ä»€éº¼é¬¼ï¼",tags:["ã€Šå¤©ç©ºä¹‹åŸã€‹çªç„¶é©šè¨","å›°æƒ‘","è³ªå•"]},
                {kr:"ë„ˆ ë•Œë¬¸ì—!",romaji:"Neo ttae-mu-ne!",meaning:"éƒ½æ€ªä½ ï¼",tags:["ã€Šä¾†è‡ªæ˜Ÿæ˜Ÿçš„ä½ ã€‹æƒ…ä¾¶åµæ¶","è²¬æ€ª","æ¿€çƒˆ"]},
                {kr:"ì´ì œ ê·¸ë§Œí•´!",romaji:"I-je geu-man-hae!",meaning:"å¤ äº†ï¼åˆ¥å†é€™æ¨£ï¼",tags:["ã€Šå¤ªé™½çš„å¾Œè£”ã€‹å¿ç„¡å¯å¿","å‘½ä»¤","çˆ†ç™¼"]}
            ]},
            "é›£é":{emoji:"ğŸ˜¢",phrases:[
                {kr:"ìŠ¬í¼...",romaji:"Seu-peo...",meaning:"å¥½é›£é...",tags:["ã€Šæˆ‘çš„å¤§å”ã€‹ä½èª","ç¨è‡ª","å…§å¿ƒ"]},
                {kr:"ê°€ìŠ´ì´ ì•„íŒŒ.",romaji:"Ga-seu-mi a-pa.",meaning:"å¿ƒå¥½ç—›ã€‚",tags:["ã€Šæ„›çš„è¿«é™ã€‹å¤±æˆ€","æ·±æƒ…","æ·šçœ¼"]},
                {kr:"ëˆˆë¬¼ì´ ë‚˜.",romaji:"Nu-nu-ri na.",meaning:"æƒ³å“­äº†ã€‚",tags:["ã€Šé¬¼æ€ªã€‹å¿æ·š","é›»è©±","è„†å¼±"]},
                {kr:"ì™¸ë¡œì›Œ.",romaji:"Oeo-ro-wo.",meaning:"å¥½å­¤å–®ã€‚",tags:["ã€Šå¤©ç©ºä¹‹åŸã€‹æ·±å¤œ","ç¨ç™½","å¤±è½"]}
            ]},
            "å–œæ­¡":{emoji:"ğŸ˜",phrases:[
                {kr:"ì¢‹ì•„í•´.",romaji:"Jo-a-hae.",meaning:"å–œæ­¡ä½ ã€‚",tags:["ã€Šä¾†è‡ªæ˜Ÿæ˜Ÿçš„ä½ ã€‹ç›´çƒ","å‹‡æ•¢","å‘Šç™½"]},
                {kr:"ë„ˆí•œí…Œ ëŒë ¤.",romaji:"Neo-han-te keul-lyeo.",meaning:"è¢«ä½ å¸å¼•ã€‚",tags:["ã€Šé‡‘ç§˜æ›¸ã€‹æ›–æ˜§","å¿ƒå‹•","å®³ç¾"]},
                {kr:"ë„ˆ ì—†ìœ¼ë©´ ì•ˆ ë¼.",romaji:"Neo eops-eu-myeon an dwae.",meaning:"æ²’æœ‰ä½ å°±æ´»ä¸ä¸‹å»ã€‚",tags:["ã€Šæ„›çš„è¿«é™ã€‹æ·±æƒ…","å±æ©Ÿ","æ‰¿è«¾"]},
                {kr:"ë„ˆ ìƒê°ë‚˜.",
